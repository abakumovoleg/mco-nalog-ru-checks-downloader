# ReceiptDownloader

Консольная утилита на C# для массовой выгрузки фискальных чеков из API ФНС (mco.nalog.ru).

## Назначение

Программа постранично запрашивает список чеков пользователя через API ФНС, затем для каждого чека загружает детальные фискальные данные и сохраняет их в отдельные JSON-файлы в папку `receipts/`. Уже загруженные чеки пропускаются, что позволяет запускать утилиту повторно для дозагрузки новых чеков.

## Требования

- .NET 10.0

## Использование

Передайте Bearer-токен авторизации первым аргументом командной строки или через переменную окружения `NALOG_TOKEN`:

```bash
dotnet run -- <bearer_token>
```

```bash
set NALOG_TOKEN=<bearer_token>
dotnet run
```

## Анализ расходов

![Анализ расходов](screenshot.png)

Файл `index.html` — интерактивная веб-страница для визуального анализа загруженных чеков. Работает на данных из файла `data.js` (массив `RECEIPT_DATA`).

Возможности:

- Сводка: общая сумма, количество чеков, товаров и позиций
- Графики: топ-20 товаров по сумме, расходы по магазинам (кольцевая диаграмма), расходы по времени (день/неделя/месяц)
- Таблица всех товаров с сортировкой по колонкам
- Фильтры: период, магазин, поиск по названию товара

Для просмотра откройте `index.html` в браузере.
